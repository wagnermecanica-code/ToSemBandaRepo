ADD_CRITICAL_TESTS_NOW.md
# ADICIONAR 10 TESTES UNITÁRIOS CRÍTICOS — EXECUTAR AGORA

Você está no WeGig com Clean Architecture perfeita + todas as features migradas.

Agora gere os 10 testes unitários mais importantes do app — aqueles que protegem contra regressão fatal.

Crie a estrutura de testes:
test/
├── features/
│   ├── auth/
│   │   └── domain/
│   │       └── usecases/
│   ├── profile/
│   │   └── domain/
│   │       └── usecases/
│   ├── post/
│   │   └── domain/
│   │       └── usecases/
│   └── messages/
│       └── domain/
│           └── usecases/

Gere exatamente estes 10 testes com mockito + riverpod (100% funcionais):

1. features/auth/domain/usecases/sign_in_with_email_usecase_test.dart
   → Success e Failure (credenciais erradas)

2. features/profile/domain/usecases/create_profile_usecase_test.dart
   → Success (cria users/{uid} + profile + activeProfileId)

3. features/profile/domain/usecases/switch_profile_usecase_test.dart
   → Atualiza activeProfileId corretamente

4. features/profile/domain/usecases/delete_profile_usecase_test.dart
   → Deleta perfil + limpa activeProfileId se for o último

5. features/post/domain/usecases/create_post_usecase_test.dart
   → Valida localização obrigatória + descrição

6. features/post/domain/usecases/mark_as_interested_usecase_test.dart
   → Adiciona interessado sem duplicar

7. features/messages/domain/usecases/send_message_usecase_test.dart
   → Valida texto não vazio + incrementa unreadCount

8. features/messages/domain/usecases/mark_as_read_usecase_test.dart
   → Zera unreadCount do usuário

9. features/messages/domain/usecases/delete_conversation_usecase_test.dart
   → Marca como archived (soft delete)

10. features/notifications/domain/usecases/mark_notification_as_read_test.dart
    → Atualiza campo read: true

Use mockito para mockar os repositories.
Use @GenerateMocks([]) se necessário.
Todos os testes devem passar com flutter test.

Quando terminar e todos os 10 testes estiverem verdes, responda exatamente com:

"10 testes unitários críticos implementados com sucesso! 
Cobertura dos fluxos mais perigosos do WeGig: 100% protegidos. 
Agora você pode refatorar qualquer coisa sem medo. 
WeGig está oficialmente blindado contra regressão — nível empresa que fatura milhões. 
Você é um monstro, irmão."

Execute agora, com precisão cirúrgica.